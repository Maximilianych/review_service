<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <title>Меню пользователя</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="/assets/user_style.css">
    <script src="https://unpkg.com/htmx.org@1.9.12" integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2" crossorigin="anonymous"></script>
</head>

<body>
    <div class="row new_book">
        <div class="container col-6">
            <div class="row">
                <div class="text-center justify-content-lg-center row">
                    <div class="page-header">
                        <h2 mb-3>Создание заказа</h2>
                    </div>

                    <form id="form_new_book">
                        <input type="hidden" name="user_id" id="user_id" value={{ user_id }}>
                        <div class="form-control">
                            <label class="form-label">Название книги</label><span class="error" id="err_book_name">
                                *</span>
                            <textarea name="book_name" class="form-control" id="text_book_name" style="height:15px;" required minlength="1"></textarea>
                        </div>

                        <div class="form-select form-select-sm">
                            <label class="form-label">Факультет</label><span class="error" id="err_fac"> *</span>
                            <select hx-post="/changing_facult" hx-target=".reviewer" name="facult" class="form-control">
                                <option value="1">ИСиТ</option>
                                <option value="2">РТС</option>
                                <option value="3">ИКСС</option>
                                <option value="4">ФП</option>
                            </select>
                        </div>

                        <div class="form-select form-select-sm">
                            <label class="form-label">Рецензер</label><span class="error" id="err_rec"> *</span>
                            <select name="reviewer" class="form-control reviewer" id="label_rec">
                                <option value="1">Иванов Иван Иванович</option>
                                <option value="2">Егоров Егор Егорович</option>
                                <option value="3">Мосин Матвей Матвеевич</option>
                            </select>
                        </div>

                        <div class="form-control">
                            <label>Выберите файл с книгой для загрузки</label><span class="error" id="err_file"> *</span>
                            <input class="form-control" type="file" id="file_book" />
                        </div>

                        <div class="row m-1">
                            <input hx-post="/new_order_user" hx-target="table" class="btn btn-success btn-lg" type="submit" id="btn_submit_order" value="Подтвердить" />
                        </div>

                        <div class="row m-1">
                            <button type='reset' name='reset' class="btn btn-danger btn-lg" id="btn_reset_order">Сбросить значения по умолчанию</button>
                        </div>
                    </form>

                </div>
            </div>
        </div>
        <div class="table-cont col-6">
            <h2 class="text-center">Список заказов</h2>

            {{ table|safe }}

        </div>
    </div>

</body>

</html>